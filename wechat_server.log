2025-10-07 11:46:45,720 [INFO] å½“å‰ä¸»Tokené•¿åº¦=24 å…¼å®¹Tokenæ•°é‡=0 ä¸¥æ ¼æ¨¡å¼=True
2025-10-07 11:46:45,723 [INFO] å·²ç¦ç”¨Ngrokï¼Œä½¿ç”¨æœ¬åœ°åœ°å€: http://localhost:9090/wechat
2025-10-07 11:46:45,724 [INFO] å¾®ä¿¡å¯¹æ¥æœåŠ¡å¯åŠ¨åœ¨ç«¯å£ 9090
 * Serving Flask app 'wechat_server'
 * Debug mode: off
2025-10-07 11:46:45,743 [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:9090
 * Running on http://10.0.0.74:9090
2025-10-07 11:46:45,745 [INFO] [33mPress CTRL+C to quit[0m
2025-10-07 11:46:55,310 [INFO] 127.0.0.1 - - [07/Oct/2025 11:46:55] "GET /health HTTP/1.1" 200 -
2025-10-07 11:47:31,684 [INFO] æ”¶åˆ°éªŒè¯è¯·æ±‚: signature=2c261ebb0fa5fda9de8937022152c9b863929eea, timestamp=1759837651, nonce=abc123, echostr(length)=8
2025-10-07 11:47:31,686 [INFO] ç­¾åéªŒè¯æˆåŠŸ(ä¸»Token)
2025-10-07 11:47:31,687 [INFO] éªŒè¯é€šè¿‡ï¼Œè¿”å› echostr (len=8)
2025-10-07 11:47:31,688 [INFO] 127.0.0.1 - - [07/Oct/2025 11:47:31] "GET /wechat?signature=2c261ebb0fa5fda9de8937022152c9b863929eea&timestamp=1759837651&nonce=abc123&echostr=unittest HTTP/1.1" 200 -
2025-10-07 11:47:31,695 [INFO] æ”¶åˆ°éªŒè¯è¯·æ±‚: signature=bad, timestamp=1, nonce=2, echostr(length)=3
2025-10-07 11:47:31,696 [ERROR] ç­¾åéªŒè¯å¤±è´¥: received=bad expected(primary)=685c6fa7602771e7c5fd4a55e283380be075329f ä¸»Tokené•¿åº¦=24 å…¼å®¹Tokenæ•°é‡=0
2025-10-07 11:47:31,697 [INFO] 127.0.0.1 - - [07/Oct/2025 11:47:31] "[31m[1mGET /wechat?signature=bad&timestamp=1&nonce=2&echostr=xxx HTTP/1.1[0m" 403 -
2025-10-07 12:09:04,968 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-07 12:09:04,971 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-07 12:09:30,495 [INFO] æ”¶åˆ°éªŒè¯è¯·æ±‚: signature=ae8e886eb0138bf6e859ad55fe6a179e5d1fc178, timestamp=1759838970, nonce=testnonce, echostr(length)=9
2025-10-07 12:09:30,496 [INFO] ç­¾åéªŒè¯æˆåŠŸ(ä¸»Token)
2025-10-07 12:09:30,496 [INFO] éªŒè¯é€šè¿‡ï¼Œè¿”å› echostr (len=9)
2025-10-07 12:09:39,749 [INFO] æ”¶åˆ°éªŒè¯è¯·æ±‚: signature=d8b154b75ad835ab4d35fea6b2e290b2077524ce, timestamp=1759838979, nonce=testnonce, echostr(length)=9
2025-10-07 12:09:39,750 [INFO] ç­¾åéªŒè¯æˆåŠŸ(ä¸»Token)
2025-10-07 12:09:39,750 [INFO] éªŒè¯é€šè¿‡ï¼Œè¿”å› echostr (len=9)
2025-10-07 12:31:44,973 [INFO] æ£€æµ‹åˆ°å®‰å…¨æ¨¡å¼é…ç½®ï¼Œå°†å°è¯•å¤„ç†åŠ å¯†æ¶ˆæ¯
2025-10-07 12:31:45,133 [INFO] æ£€æµ‹åˆ°å®‰å…¨æ¨¡å¼é…ç½®ï¼Œå°†å°è¯•å¤„ç†åŠ å¯†æ¶ˆæ¯
2025-10-07 13:19:17,516 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-07 13:19:17,519 [INFO] å½“å‰ä¸»Tokené•¿åº¦=24 å…¼å®¹Tokenæ•°é‡=0 ä¸¥æ ¼æ¨¡å¼=True
2025-10-07 13:19:18,545 [WARNING] NGROK_AUTH_TOKEN æœªè®¾ç½®ï¼Œä½¿ç”¨æœ¬åœ°åœ°å€
2025-10-07 13:19:18,546 [WARNING] ä½¿ç”¨æœ¬åœ°åœ°å€ï¼Œä»…ä¾›æœ¬åœ°æµ‹è¯•ã€‚è‹¥éœ€å…¬ç½‘è®¿é—®è¯·é…ç½® NGROK_AUTH_TOKEN æˆ–ä½¿ç”¨ FRP/Nginxã€‚
2025-10-07 13:19:18,547 [INFO] å¾®ä¿¡å¯¹æ¥æœåŠ¡å¯åŠ¨åœ¨ç«¯å£ 9090
2025-10-07 13:19:36,271 [INFO] æ”¶åˆ°æ¶ˆæ¯: b''
2025-10-07 13:19:36,274 [ERROR] å¤„ç†å¾®ä¿¡æ¶ˆæ¯é”™è¯¯: no element found: line 1, column 0
2025-10-07 13:19:59,945 [INFO] æ”¶åˆ°æ¶ˆæ¯: b'<xml><ToUserName><![CDATA[toUser]]></ToUserName><FromUserName><![CDATA[userA]]></FromUserName><CreateTime>123</CreateTime><MsgType><![CDATA[text]]></MsgType><Content><![CDATA[\xe7\x8e\x84\xe6\x9c\xba\xe8\xae\xbe\xe8\xae\xa1\xe4\xb8\x8e\xe5\xae\x9e\xe7\x8e\xb0AI\xe7\xb3'
2025-10-07 13:19:59,946 [INFO] ç”¨æˆ· userA å‘é€: ç„æœºè®¾è®¡ä¸å®ç°AIç³»ç»Ÿ
2025-10-07 13:19:59,960 [ERROR] APIè°ƒç”¨å¤±è´¥ï¼ŒçŠ¶æ€ç : 404
2025-10-07 13:19:59,960 [INFO] å›å¤: ç³»ç»Ÿæš‚æ—¶æ— æ³•å¤„ç†è¯·æ±‚ï¼Œè¯·ç¨åå†è¯•...
2025-10-07 13:23:37,452 [INFO] æ”¶åˆ°æ¶ˆæ¯: b'<xml><ToUserName><![CDATA[toUser]]></ToUserName><FromUserName><![CDATA[userA]]></FromUserName><CreateTime>123</CreateTime><MsgType><![CDATA[text]]></MsgType><Content><![CDATA[\xe7\x8e\x84\xe6\x9c\xba\xe8\xae\xbe\xe8\xae\xa1\xe4\xb8\x8e\xe5\xae\x9e\xe7\x8e\xb0AI\xe7\xb3'
2025-10-07 13:23:37,453 [INFO] ç”¨æˆ· userA å‘é€: ç„æœºè®¾è®¡ä¸å®ç°AIç³»ç»Ÿ
2025-10-07 13:23:37,467 [ERROR] APIè°ƒç”¨å¤±è´¥ï¼ŒçŠ¶æ€ç : 404
2025-10-07 13:23:37,469 [INFO] å›å¤: ç³»ç»Ÿæš‚æ—¶æ— æ³•å¤„ç†è¯·æ±‚ï¼Œè¯·ç¨åå†è¯•...
2025-10-07 13:29:24,895 [INFO] æ”¶åˆ°æ¶ˆæ¯: b'<xml><ToUserName><![CDATA[toUser]]></ToUserName><FromUserName><![CDATA[userA]]></FromUserName><CreateTime>123</CreateTime><MsgType><![CDATA[text]]></MsgType><Content><![CDATA[\xe7\x8e\x84\xe6\x9c\xba\xe8\xae\xbe\xe8\xae\xa1\xe4\xb8\x8e\xe5\xae\x9e\xe7\x8e\xb0AI\xe7\xb3'
2025-10-07 13:29:24,896 [INFO] ç”¨æˆ· userA å‘é€: ç„æœºè®¾è®¡ä¸å®ç°AIç³»ç»Ÿ
2025-10-07 13:29:29,669 [INFO] å›å¤: ã€ç„æœºAIå›å¤ã€‘

[API] æœªçŸ¥æŒ‡ä»¤ï¼Œè¯·è¾“å…¥ï¼šå­¦ä¹ æˆæœã€...
2025-10-07 13:41:28,833 [INFO] æ”¶åˆ°æ¶ˆæ¯: b'<xml><ToUserName><![CDATA[toUser]]></ToUserName><FromUserName><![CDATA[userA]]></FromUserName><CreateTime>123</CreateTime><MsgType><![CDATA[text]]></MsgType><Content><![CDATA[\xe7\x8e\x84\xe6\x9c\xba\xe8\xae\xbe\xe8\xae\xa1\xe4\xb8\x8e\xe5\xae\x9e\xe7\x8e\xb0AI\xe7\xb3'
2025-10-07 13:41:28,833 [INFO] ç”¨æˆ· userA å‘é€: ç„æœºè®¾è®¡ä¸å®ç°AIç³»ç»Ÿ
2025-10-07 13:41:34,078 [INFO] å›å¤: ã€ç„æœºAIå›å¤ã€‘

[API] æœªçŸ¥æŒ‡ä»¤ï¼Œè¯·è¾“å…¥ï¼šå­¦ä¹ æˆæœã€...
2025-10-07 13:44:57,293 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-07 13:44:57,299 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-07 13:45:29,372 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-07 13:45:47,023 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-07 13:50:54,529 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-07 13:50:54,591 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-07 13:51:04,476 [INFO] æ”¶åˆ°æ¶ˆæ¯: b'<xml><ToUserName><![CDATA[toUser]]></ToUserName><FromUserName><![CDATA[userA]]></FromUserName><CreateTime>123</CreateTime><MsgType><![CDATA[text]]></MsgType><Content><![CDATA[\xe7\x8e\x84\xe6\x9c\xba\xe8\xae\xbe\xe8\xae\xa1\xe4\xb8\x8e\xe5\xae\x9e\xe7\x8e\xb0AI\xe7\xb3'
2025-10-07 13:51:04,477 [INFO] ç”¨æˆ· userA å‘é€: ç„æœºè®¾è®¡ä¸å®ç°AIç³»ç»Ÿ
2025-10-07 13:51:04,478 [INFO] ACTIVATE: user=userA content=ç„æœºè®¾è®¡ä¸å®ç°AIç³»ç»Ÿ
2025-10-07 14:18:27,033 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-07 14:18:27,393 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-07 14:18:35,202 [INFO] æ”¶åˆ°æ¶ˆæ¯: b'<xml><ToUserName><![CDATA[toUser]]></ToUserName><FromUserName><![CDATA[userA]]></FromUserName><CreateTime>123</CreateTime><MsgType><![CDATA[text]]></MsgType><Content><![CDATA[\xe7\x8e\x84\xe6\x9c\xba\xe8\xae\xbe\xe8\xae\xa1\xe4\xb8\x8e\xe5\xae\x9e\xe7\x8e\xb0AI\xe7\xb3'
2025-10-07 14:18:35,203 [INFO] ç”¨æˆ· userA å‘é€: ç„æœºè®¾è®¡ä¸å®ç°AIç³»ç»Ÿ
2025-10-07 14:18:35,206 [INFO] ACTIVATE: user=userA content=ç„æœºè®¾è®¡ä¸å®ç°AIç³»ç»Ÿ
2025-10-07 14:18:44,099 [INFO] æ”¶åˆ°æ¶ˆæ¯: b'<xml><ToUserName><![CDATA[toUser]]></ToUserName><FromUserName><![CDATA[userA]]></FromUserName><CreateTime>200</CreateTime><MsgType><![CDATA[text]]></MsgType><Content><![CDATA[3]]></Content><MsgId>201<'
2025-10-07 14:18:44,101 [INFO] ç”¨æˆ· userA å‘é€: 3
2025-10-07 14:18:48,813 [INFO] å›å¤: ã€ç„æœºAIå›å¤ã€‘

[æ¨¡å‹è®­ç»ƒ] ç´¯è®¡è®­ç»ƒæ•°æ®æœŸæ•°: 981...
2025-10-07 14:22:54,256 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-07 14:22:54,294 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-07 14:23:07,877 [INFO] æ”¶åˆ°æ¶ˆæ¯: b'<xml><ToUserName><![CDATA[toUser]]></ToUserName><FromUserName><![CDATA[userB]]></FromUserName><CreateTime>300</CreateTime><MsgType><![CDATA[text]]></MsgType><Content><![CDATA[\xe5\x90\xaf\xe5\x8a\xa8\xe7\x8e\x84\xe6\x9c\xbaAI]]></Conten'
2025-10-07 14:23:07,879 [INFO] ç”¨æˆ· userB å‘é€: å¯åŠ¨ç„æœºAI
2025-10-07 14:23:07,881 [INFO] ACTIVATE: user=userB content=å¯åŠ¨ç„æœºAI
2025-10-07 14:23:17,530 [INFO] æ”¶åˆ°æ¶ˆæ¯: b'<xml><ToUserName><![CDATA[toUser]]></ToUserName><FromUserName><![CDATA[userB]]></FromUserName><CreateTime>301</CreateTime><MsgType><![CDATA[text]]></MsgType><Content><![CDATA[\xe9\xa2\x84\xe6\xb5\x8b\xe4\xbb\xbb\xe5\x8a\xa1: \xe5\x88\x86\xe6\x9e\x90\xe6\x9c\x80\xe8\xbf'
2025-10-07 14:23:17,531 [INFO] ç”¨æˆ· userB å‘é€: é¢„æµ‹ä»»åŠ¡: åˆ†ææœ€è¿‘10æœŸå†·çƒ­åˆ†å¸ƒ
2025-10-07 14:23:22,364 [INFO] å›å¤: ã€ç„æœºAIå›å¤ã€‘

[API] æœªçŸ¥æŒ‡ä»¤ï¼Œè¯·è¾“å…¥ï¼šå­¦ä¹ æˆæœã€...
2025-10-08 16:40:48,252 [WARNING] 
[å»¶è¿Ÿå¯åŠ¨] æ£€æµ‹åˆ° WECHAT_LINK_PENDING.md ï¼Œå½“å‰æš‚ä¸å¯åŠ¨å¾®ä¿¡å…¬ä¼—å·å¯¹æ¥æœåŠ¡ã€‚
è‹¥éœ€ç«‹å³è¿æ¥å…¬ä¼—å·ï¼š
  1) åˆ é™¤è¯¥æ–‡ä»¶ rm WECHAT_LINK_PENDING.md
  2) æˆ–è®¾ç½®ç¯å¢ƒå˜é‡ FORCE_WECHAT_LINK=1 é‡æ–°è¿è¡Œ
  3) ç„¶åæ‰§è¡Œ ./start_wechat_gunicorn.sh æˆ– python wechat_server.py

2025-10-08 16:41:09,990 [INFO] æœªå¯ç”¨å®‰å…¨æ¨¡å¼(æœªè®¾ç½® WECHAT_ENCODING_AES_KEY / WECHAT_APPID) - ä½¿ç”¨æ˜æ–‡æ¨¡å¼
2025-10-08 16:41:09,992 [INFO] å½“å‰ä¸»Tokené•¿åº¦=24 å…¼å®¹Tokenæ•°é‡=0 ä¸¥æ ¼æ¨¡å¼=True
2025-10-08 16:41:11,000 [WARNING] NGROK_AUTH_TOKEN æœªè®¾ç½®ï¼Œä½¿ç”¨æœ¬åœ°åœ°å€
2025-10-08 16:41:11,000 [WARNING] ä½¿ç”¨æœ¬åœ°åœ°å€ï¼Œä»…ä¾›æœ¬åœ°æµ‹è¯•ã€‚è‹¥éœ€å…¬ç½‘è®¿é—®è¯·é…ç½® NGROK_AUTH_TOKEN æˆ–ä½¿ç”¨ FRP/Nginxã€‚
2025-10-08 16:41:11,000 [INFO] å¾®ä¿¡å¯¹æ¥æœåŠ¡å¯åŠ¨åœ¨ç«¯å£ 9090
2025-10-08 16:41:11,054 [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:9090
 * Running on http://10.0.3.100:9090
2025-10-08 16:41:11,054 [INFO] [33mPress CTRL+C to quit[0m
