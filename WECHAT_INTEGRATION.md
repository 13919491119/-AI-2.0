# 微信公众号集成：刘洪鹏76

本文档提供关于如何将微信公众号"刘洪鹏76"与Celestial Nexus AI系统集成的指南。

## 集成架构

```
微信公众号 --> Ngrok/公网地址 --> wechat_server.py --> API服务(api_server.py) --> 玄机AI核心(xuanji_ai_main.py)
```

## 功能特点

1. **双向通信**：用户可以通过微信公众号直接与玄机AI系统交互
2. **任务窗口**：用户可在公众号发送任何中英文任务要求
3. **自动处理**：系统自动处理请求并将结果反馈到微信公众号
4. **特殊命令**：支持"双色球预测"、"系统状态"、"周期报告"等特殊命令

## 部署步骤

### 1. 启动系统
执行以下命令启动所有服务:
```bash
bash start_wechat_integration.sh
```

### 2. 配置微信公众号

登录微信公众平台(mp.weixin.qq.com):
- 进入"开发"-"基本配置"
- 设置服务器地址URL: 使用ngrok提供的公网URL (见wechat_server.log)
- 令牌(Token): celestial_nexus_ai_token
- 保存配置

### 3. 测试集成

在微信公众号中发送以下消息测试系统：
- `帮助` - 获取使用指南
- `双色球预测` - 获取最新预测结果
- `系统状态` - 查看AI系统运行状态
- `周期报告` - 获取最新运营报告摘要
- 任何其他文本 - 直接发送给玄机AI处理

## 运行监控

系统产生以下日志文件：
- `wechat_server.log` - 微信服务器日志
- `api_server.log` - API服务日志
- `ai_system.log` - AI核心系统日志

## 常见问题

1. **Ngrok URL变更**：每次重启Ngrok时，URL会改变，需要在微信公众平台更新
2. **消息超时**：微信公众号要求5秒内回复，复杂请求可能需要异步处理
3. **系统维护**：维护期间，可设置自动回复消息

## 系统扩展

未来计划增加以下功能：
1. 自定义菜单支持
2. 图片识别处理
3. 语音输入支持
4. 用户个性化预测

---

*配置完成后，用户可以直接在"刘洪鹏76"公众号中使用玄机AI系统的全部功能。*
